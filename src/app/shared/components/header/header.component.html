<header class="header">
  <!-- Mobile Navigation -->
  <app-mobile-nav class="mobile-only"></app-mobile-nav>

  <div class="header-content desktop-only">
    <div class="container">
      <div class="header-inner">
        <div class="logo">
          <a routerLink="/">
            <img
              src="assets/images/logo/webbanve-logo.png"
              alt="WebBanVe Logo"
            />
          </a>
        </div>

        <div class="navigation">
          <nav>
            <ul class="nav-menu">
              <li class="nav-item dropdown">
                <a
                  class="nav-link"
                  routerLink="/flight-search"
                  routerLinkActive="active"
                  >Vé máy bay</a
                >
                <div class="dropdown-content">
                  <a routerLink="/flight-listing" routerLinkActive="active"
                    >Danh sách chuyến bay</a
                  >
                  <a routerLink="/flights" routerLinkActive="active"
                    >Thông tin chuyến bay</a
                  >
                </div>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="/tours"
                  routerLinkActive="active"
                  >Tour du lịch</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="/hotels"
                  routerLinkActive="active"
                  >Khách sạn</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" routerLink="/news" routerLinkActive="active"
                  >Tin tức</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="/promotions"
                  routerLinkActive="active"
                  >Khuyến mãi</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  routerLink="/frequent-flyer"
                  routerLinkActive="active"
                  >VIP</a
                >
              </li>
            </ul>
          </nav>
        </div>

        <div class="auth-actions">
          @if (isLoggedIn === null) {
          <div class="loading-indicator">
          </div>
          } @else if (!isLoggedIn) {
          <a
            class="btn btn-login"
            routerLink="/auth/login"
            routerLinkActive="active"
            >Đăng nhập</a
          >
          <a
            class="btn btn-register"
            routerLink="/auth/register"
            routerLinkActive="active"
            >Đăng ký</a
          >
          } @else {
          <div class="user-account-dropdown">
            <div class="user-account-toggle" (click)="toggleDropdown($event)">
              <div class="user-avatar">
                <img
                  src="https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png"
                  alt="User Avatar"
                />
              </div>
              <span class="user-name">{{ userName() }}</span>
              <i class="fa fa-chevron-down"></i>
            </div>
            <div class="dropdown-menu" [ngClass]="{'show': isDropdownOpen}">
              <a routerLink="/profile" routerLinkActive="active">
                <i class="fa fa-user"></i> Thông tin tài khoản
              </a>
              <a routerLink="/bookings" routerLinkActive="active">
                <i class="fa fa-ticket"></i> Đặt chỗ của tôi
              </a>
              <a routerLink="/favorites" routerLinkActive="active">
                <i class="fa fa-heart"></i> Yêu thích
              </a>
              <div class="dropdown-divider"></div>
              <button (click)="logout()">
                <i class="fa fa-sign-out"></i> Đăng xuất
              </button>
            </div>
          </div>
          }
        </div>

        <div class="contact-info">
          <div class="contact-item">
            <div class="hotline">
              Hotline: <span class="phone-number">0123 456 789</span>
            </div>
            <div class="working-hours">
              Giờ làm việc: <span class="hours">Từ 8h - 22h</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Header -->
  <div class="header-content-mobile mobile-only">
    <div class="container">
      <div class="header-inner-mobile">
        <div class="logo">
          <a routerLink="/">
            <img
              src="assets/images/logo/webbanve-logo.png"
              alt="WebBanVe Logo"
            />
          </a>
        </div>
      </div>
    </div>
  </div>
</header>
